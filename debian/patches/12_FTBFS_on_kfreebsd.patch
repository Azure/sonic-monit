Description: Fix FTBFS on kFreeBSD
Author: Sergey B Kirpichev <skirpichev@gmail.com>
Forwarded: no

---
 configure.ac                 |   12 +++++++++---
 src/process/sysdep_FREEBSD.c |    4 ++++
 2 files changed, 13 insertions(+), 3 deletions(-)

--- a/src/process/sysdep_FREEBSD.c
+++ b/src/process/sysdep_FREEBSD.c
@@ -37,6 +37,10 @@
 #include <fcntl.h>
 #endif
 
+#ifdef HAVE_STDINT_H
+#include <stdint.h>
+#endif
+
 #ifdef HAVE_KVM_H
 #include <kvm.h>
 #endif
--- a/configure.ac
+++ b/configure.ac
@@ -185,9 +185,15 @@ AC_CHECK_HEADERS([ \
 	syslog.h \
 	unistd.h \
         uvm/uvm_extern.h \
-        uvm/uvm_param.h \
-        vm/vm.h \
-	])
+        uvm/uvm_param.h
+	],
+    [],
+    [],
+    [
+     #ifdef HAVE_VM_VM_H
+     #include <vm/vm.h>
+     #endif
+    ])
 
 AC_CHECK_HEADERS([ \
 	libperfstat.h \
