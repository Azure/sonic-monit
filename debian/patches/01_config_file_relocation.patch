Description: Patched original source for new location of
 monitrc (in /etc/monit/monitrc).
Author: Fredrik Steen <stone@debian.org>
Forwarded: not-needed

---
 src/file.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

--- a/src/file.c
+++ b/src/file.c
@@ -174,6 +174,10 @@
   if(file_exist(rcfile)) {
     return rcfile;
   }
+  snprintf(rcfile, STRLEN, "/etc/monit/%s", MONITRC);
+  if(file_exist(rcfile)) {
+    return (rcfile);
+  }
   snprintf(rcfile, STRLEN, "/etc/%s", MONITRC);
   if(file_exist(rcfile)) {
     return rcfile;
@@ -190,7 +194,7 @@
     snprintf(rcfile, STRLEN, "%s/%s", Run.Env.cwd, MONITRC);
     return rcfile;
   }
-  LogError("%s: Cannot find the control file at ~/.%s, /etc/%s, %s/%s, /usr/local/etc/%s or at ./%s \n",
+  LogError("%s: Cannot find the control file at ~/.%s, /etc/monit/%s, /etc/%s, %s/%s, /usr/local/etc/%s or at ./%s \n",
       prog, MONITRC, MONITRC, SYSCONFDIR, MONITRC, MONITRC, MONITRC);
   exit(1);
   
